<div class="container">
  <legend>Start Here</legend>
  <form
    #theForm="ngForm"
    (ngSubmit)="formSubmitted(theForm.value)"
    name="form"
    id="theForm"
    novalidate="novalidate"
  >
    <div [ngClass]="{ 'form-group': true, 'has-error': error_status }">
      <label class="visible-xs">Firstname:</label>
      <input
        type="text"
        class="form-control"
        name="first_name"
        id="first_name"
        #first_name="ngModel"
        placeholder="First name"
        required
        [ngModel]="customer$?.first_name"
        (ngModelChange)="(customer$.first_name)"
      />

      <div
        *ngIf="(errors$ | async) as error"
        class="form-group text-danger has-error"
      >
        {{ error.first_name }}
      </div>
    </div>

    <div [ngClass]="{ 'form-group': true, 'has-error': error_status }">
      <label class="visible-xs">Lastname:</label>
      <input
        type="text"
        class="form-control"
        name="last_name"
        id="last_name"
        #lastName="ngModel"
        placeholder="Last name"
        [ngModel]="customer$?.last_name"
        (ngModelChange)="(customer$?.last_name)"
      />
      <div
        *ngIf="(errors$ | async) as error"
        class="form-group text-danger has-error"
      >
        {{ error.last_name }}
      </div>
    </div>
    <div [ngClass]="{ 'form-group': true, 'has-error': error_status }">
      <label class="visible-xs">Email:</label>
      <input
        type="text"
        name="email"
        class="form-control"
        id="email"
        #email="ngModel"
        placeholder="Email"
        [ngModel]="customer?.email"
        (ngModelChange)="(customer$?.email)"
      />
      <div
        *ngIf="(errors$ | async) as error"
        class="form-group text-danger has-error"
      >
        {{ error.email }}
      </div>
    </div>
    <div [ngClass]="{ 'form-group': true, 'has-error': error_status }">
      <label class="visible-xs">Zip Code:</label>
      <input
        type="text"
        name="zip_code"
        class="form-control"
        id="zip_code"
        #zip_code="ngModel"
        placeholder="Zip Code"
        [ngModel]="customer$?.zip_code"
        (ngModelChange)="(customer$?.zip_code)"
      />
      <div
        *ngIf="(errors$ | async) as error"
        class="form-group text-danger has-error"
      >
        {{ error.zip_code }}
      </div>
    </div>

    <div [ngClass]="{ 'form-group': true, 'has-error': error_status }">
      <label class="visible-xs">Password:</label>
      <input
        type="password"
        name="password"
        class="form-control"
        id="password"
        #password="ngModel"
        placeholder="Password"
        [ngModel]="customer$?.password"
        (ngModelChange)="(customer$?.password)"
      />
      <div
        *ngIf="(errors$ | async) as error"
        class="form-group text-danger has-error"
      >
        {{ error.password }}
      </div>
    </div>

    <!--
      The code below is some sort of malformed JSON, which prevents angular from doing its HTTP thing. Figuring out a cleverer way of sending the guid. Commented out in favor of getting error messages from api
    -->
    <!--
      <input
        type="text"
        id="guid"
        name="tracking_guid"
        [(ngModel)]="tracking_guid$"
        value="{{tracking_guid$}}"
        style="display: none;"
      />
    -->

    <input
      type="hidden"
      id="fs_authToMarket"
      name="fs_authToMarket"
      value="1"
    />
    <div class="form-group">
      <label for="authtomarket" class="authtomarket">
        <input
          type="checkbox"
          id="authtomarket"
          name="authtomarket"
          checked=""
          onclick="document.getElementById(&#39;fs_authToMarket&#39;).value = (this.checked) ? 1 : 0;"
        />
        Yes, please send special offers from CheckFreeScore.com and partners to
        my email.
      </label>
    </div>
    <div class="form-group">
      <button class="scores" type="submit">
        Your Score - Now
        <span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span>
      </button>
    </div>
    <!-- original content -->
  </form>
</div>
